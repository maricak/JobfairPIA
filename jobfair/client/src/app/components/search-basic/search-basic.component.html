<h1 class="page-header  text-center">Company Search</h1>

<div [ngClass]="messageClass" *ngIf="message" class="w-75 mx-auto  alert-dismissible fade show" role="alert">
    {{message}}
    <button type="button" class="close h-100" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
<!-- Search Form -->
<form [formGroup]="form" (submit)="onSeachSubmit()" class="w-75 mx-auto">

    <!-- Name Input -->
    <div class="form-group">
        <label for="name">Company name</label>
        <input type="text" name="name" class="form-control" autocomplete="off" formControlName="name" 
        [ngClass]="{'is-invalid': name.errors, 'is-valid': !name.errors}"/>
    </div>

    <!-- City Input -->
    <div class="form-group">
        <label for="city">Company city</label>
        <input type="text" name="city" class="form-control" autocomplete="off" formControlName="city" 
        [ngClass]="{'is-invalid': name.errors, 'is-valid': !name.errors}"/>
    </div>

    <!-- work filed input -->
    <div class="form-group">
        <label for="workField">Work filed</label>
        <select class="form-control" formControlName="workField" multiple="multiple"
        [ngClass]="{'is-invalid': name.errors, 'is-valid': !name.errors}">
            <option value="IT">IT</option>
            <option value="Telecomunications">Telecomunications</option>
            <option value="Civil Engineering">Civil Engineering</option>
            <option value="Energetics">Energetics</option>
            <option value="Architecture">Architecture</option>
        </select>
    </div>

    <!-- Submit Input -->
    <input [disabled]="!form.valid" type="submit" class="btn btn-info" value="Search" />
</form>
<!-- Search Form /-->

<br />

<table *ngIf="companies?.length > 0" class="table table-striped mb-5">
    <thead>
        <td>Name</td>
        <td>City</td>
        <td>Address</td>
        <td>PIB</td>
        <td>Number of employees</td>
        <td>Email</td>
        <td>Web site</td>
        <td>Work field</td>
        <td>Specialty</td>
    </thead>
    <tr *ngFor="let c of companies">
        <td>{{c.name}}</td>
        <td>{{c.city}}</td>
        <td>{{c.address}}</td>
        <td>{{c.pib}}</td>
        <td>{{c.numberOfEmployees}}</td>
        <td>{{c.email}}</td>
        <td><a href="{{'http://' + c.website}}">{{c.website}}</a></td>
        <td>{{c.workField}}</td>
        <td>{{c.specialty}}</td>
    </tr>
</table>